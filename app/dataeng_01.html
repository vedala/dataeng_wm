<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="dataeng_01.css">
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>
        <script src="endpoints.js"></script>
        <script src="dataeng_01.js"></script>
    </head>
    <body>
        <header>
            <h1>Data Pipeline Tutorial - Demo</h1>
        </header>
        <main>
            <hr>
            <section>
                <h2>Introduction</h2>
                <p>
                    This site demonstrates how to perform simple analysis on
                    publicly-available Walmart Recruiting Store Sales Data.
                </p>
                <p>
                    A more detailed description of the entire pipeline can be found in
                    <a href="https://kalyanv.com/2019/05/23/tutorial-a-basic-data-pipeline.html">this</a>
                    blog post.
                </p>

            </section>
            <hr>
            <section>
                <h2>Analysis</h2>
                <p>
                    The following analyses are a sample of possible analyses that can be
                    performed on the data.
                </p>
                <h3>Overview</h3>
                <ul>
                    <li>Analysis buttons kick off ajax calls to AWS Lambda functions</li>
                    <li>The lambda functions run analysis SQL queries on the postgres
                        database and return the result to this web application</li>
                    <li>Chartjs is used for rendering charts</li>
                </ul>

                <h3>Implementation</h3>
                <ul>
                    <li><a href="https://github.com/vedala/dataeng_wm/blob/master/lambda/analysis501.py">Analysis-1 Lambda function</a></li>
                    <li><a href="https://github.com/vedala/dataeng_wm/blob/master/lambda/analysis502.py">Analysis-2 Lambda function</a></li>
                </ul>

                <article>
                    <h3>Analysis 1 - Data Availability, Number of Weeks per Year</h3>
                    <p>
                        An extremely simple analysis. Counts the number of weeks for which
                        data is available for each year.
                    </p>
                    <p>
                        Enter years between 2010 and 2012. One or both fields can be left empty.
                    </p>
                    <label for="start_year">Start year</label>
                    <br>
                    <input type="number" id="start_year" name="start_year">
                    <br>
                    <br>
                    <label for="end_year">End year</label>
                    <br>
                    <input type="number" id="end_year" name="end_year">
                    <br>
                    <br>
                    <button id="button01" type="button">
                        Show Analysis
                    </button>
                    <div class="chart-container-1">
                        <canvas id="chart01"></canvas>
                    </div>
                </article>

                <article>
                    <h3>Analysis 2 - Week-of-Holiday Sales Compared to Annual Weekly Average</h3>
                    <p>
                        Pick radio button option to chart either all holidays or specific holidays.
                    </p>
                    <input type="radio" id="all_holidays" name="all_or_pick" value="all_holidays">
                    <label for="all_holidays">All Holidays</label>
                    <br>
                    <input type="radio" id="pick_holidays" name="all_or_pick" value="pick_holidays">
                    <label for="pick_holidays">Pick Holidays</label>
                    <br>

                    <p>Choose which holidays to include in chart:</p>
                    <input type="checkbox" id="superbowl" name="selected_holidays" value="superbowl">
                    <label for="superbowl">Super Bowl</label>
                    <br>
                    <input type="checkbox" id="laborday" name="selected_holidays" value="laborday">
                    <label for="superbowl">Labor Day</label>
                    <br>
                    <input type="checkbox" id="thanksgiving" name="selected_holidays" value="thanksgiving">
                    <label for="superbowl">Thanksgiving</label>
                    <br>
                    <input type="checkbox" id="christmas" name="selected_holidays" value="christmas">
                    <label for="superbowl">Christmas</label>

                    <br>
                    <br>
                    <button id="button02" type="button">
                        Show Analysis
                    </button>
                    <br>
                    <div id="analysis02-error">
                    </div>
                    <div class="chart-container-2">
                        <canvas id="chart02"></canvas>
                    </div>
                </article>
                <hr>
            </section>
        </main>
    </body>
</html>
